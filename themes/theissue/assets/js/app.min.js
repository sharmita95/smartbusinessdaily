window.onpageshow=function(t){t.persisted&&window.location.reload()},function(b,y){"use strict";var l=b(document),x=b(y),w=b("body"),i=b("#wpadminbar"),r=b(".click-capture"),n=b(".header"),c=b("#wrapper"),d=b("#mobile-menu"),t=(b(".mobile-toggle-holder"),new BezierEasing(.35,.3,.2,.85)),o=new MobileDetect(y.navigator.userAgent),v=v||{};TweenMax.defaultEase=t,TimelineMax.defaultEase=t,v={activeSlider:!1,menuscroll:b("#menu-scroll"),h_offset:0,init:function(){var e,a=this;function t(){for(e in a)if(a.hasOwnProperty(e)){var t=a[e];void 0!==t.selector&&void 0!==t.init&&0<b(t.selector).length&&t.init()}}if("on"!==themeajax.settings.page_transition||w.hasClass("compose-mode"))t();else{var i=-1<b.inArray(themeajax.settings.page_transition_style,["thb-swipe-left"]);b(".thb-page-transition-on").animsition({inClass:themeajax.settings.page_transition_style+"-in",outClass:themeajax.settings.page_transition_style+"-out",inDuration:parseInt(themeajax.settings.page_transition_in_speed,10),outDuration:parseInt(themeajax.settings.page_transition_out_speed,10),touchSupport:!1,overlay:i,overlayClass:"thb-page-transition-overlay",linkElement:'.animsition-link,a[href]:not([target=" _blank"]):not([target="_blank"]):not([href^="'+themeajax.settings.current_url+'#"]):not([href^="#"]):not([href*="javascript"]):not([href*=".rar"]):not([href*=".zip"]):not([href*=".jpg"]):not([href*=".jpeg"]):not([href*=".gif"]):not([href*=".png"]):not([href*=".mov"]):not([href*=".swf"]):not([href*=".mp4"]):not([href*=".flv"]):not([href*=".avi"]):not([href*=".mp3"]):not([href^="tel:"]):not([href^="mailto:"]):not([class="no-animation"]):not(.ajax_add_to_cart):not([class*="ftg-lightbox"]):not(.wpcf7-submit):not(.comment-reply-link):not(.mfp-image):not(.mfp-video):not(.add_to_wishlist):not(.remove_from_cart_button):not([id*="cancel-comment-reply-link"]):not(.do-not-animate):not(.mfp-inline):not(.remove):not([href^="'+location.protocol+"//"+location.host+location.pathname+'#"])'}).on("animsition.inStart",function(){_.delay(function(){t()},parseInt(themeajax.settings.page_transition_in_speed,10)/.8)})}},beforeHeader:{selector:".thb_before_header",init:function(){var t=b(this.selector),e=b(".thb_before_header_inner",t),a=t.data("parallax");o.mobile()||"off"===a||x.on("scroll",function(){x.scrollTop()>x.outerHeight()/2||TweenMax.set(e,{y:x.scrollTop()/2})})}},newsletterPopup:{selector:".newsletter-popup",init:function(){b(this.selector);"1"!==Cookies.get("newsletter_popup")&&b.magnificPopup.open({type:"inline",items:{src:"#newsletter-popup",type:"inline"},mainClass:"mfp newsletter-popup mfp-zoom-in",tLoading:themeajax.l10n.lightbox_loading,removalDelay:400,fixedBgPos:!0,fixedContentPos:!0,closeBtnInside:!0,closeMarkup:'<button title="%title%" class="mfp-close"><span>'+themeajax.svg.close_arrow+"</span></button>",callbacks:{close:function(){Cookies.set("newsletter_popup","1",{expires:parseInt(themeajax.settings.newsletter_length,10)})}}})}},cookieBar:{selector:".thb-cookie-bar",init:function(){var t=b(this.selector),e=b(".button-accept",t),a=b(".thb-mobile-close",t);"hide"!==Cookies.get("thb-theissue-cookiebar")&&TweenMax.to(t,.5,{opacity:"1",y:"0%"}),e.on("click",function(){return Cookies.set("thb-theissue-cookiebar","hide",{expires:30}),TweenMax.to(t,.5,{opacity:"0",y:"100%"}),!1}),a.on("click",function(){return TweenMax.to(t,.5,{opacity:"0",y:"100%"}),!1})}},header:{selector:".header",light:!1,init:function(){var t=this,e=150;b(".thb_before_header").length&&x.on("resize.before-header",function(){e=150+b(".thb_before_header").outerHeight()}).trigger("resize.before-header"),"on"===themeajax.settings.fixed_header_scroll&&b(".header.fixed:not(.header-mobile)").headroom({offset:e}),x.on("resize.mobile-header",function(){(o.mobile()||x.width()<1024)&&(b(".mobile-header-holder").css({height:function(){return b(".header.header-mobile").outerHeight()+"px"}}),"on"!==themeajax.settings.fixed_header_scroll||b(".header.header-mobile").hasClass("headroom")||b(".header.header-mobile").headroom({offset:e}))}).trigger("resize.mobile-header"),x.on("scroll.mobile-header",function(){x.scrollTop()>e?b(".header.header-mobile").addClass("fixed"):b(".header.header-mobile").removeClass("fixed")}).trigger("scroll.mobile-header"),x.on("scroll.fixed-header",function(){t.scroll(e)}).trigger("scroll.fixed-header")},scroll:function(t){var e="fixed-enabled";t<x.scrollTop()?b(".header.fixed").addClass(e):b(".header.fixed").removeClass(e)}},fullMenu:{selector:".thb-full-menu",init:function(){var t=b(this.selector),e=(t.find("a"),t.find("li.menu-item-has-children")),a=t.find("li.menu-item-has-children.menu-item-mega-parent");e.each(function(){var t=b(this),e=t.find(">.sub-menu, .sub-menu.thb_mega_menu"),a=e.find(">li>a"),i=(t.find(".thb_mega_menu li"),new TimelineMax({paused:!0}));i.to(e,.5,{autoAlpha:1,display:"block"},"start").staggerTo(a,.1,{opacity:1},.03,"start"),t.hoverIntent(function(){t.addClass("sfHover"),i.timeScale(1).restart()},function(){t.removeClass("sfHover"),i.timeScale(1.5).reverse()})}),t.each(function(){var t=b(this),e=b(".header.thb-main-header").find(".thb-navbar");x.on("resize.resizeMegaMenu",_.debounce(function(){!function(t,e){t.find(".thb_mega_menu_holder").length&&t.find(".thb_mega_menu_holder").css({width:function(){return parseInt(e.outerWidth(),10)},left:function(){return t.parents(".header").hasClass("style6")||t.parents(".header").hasClass("style9")?0:t.parents(".header").hasClass("style3")||t.parents(".header").hasClass("style10")||t.parents(".header").hasClass("main-header-style3")||t.parents(".header").hasClass("main-header-style10")?(t.find(".thb_mega_menu_holder").outerWidth()-e.find(".full-menu").outerWidth())/2*-1:-1*(t.parents(".header").find(".full-menu").offset().left-e.offset().left)}})}(t,e)},30)).trigger("resize.resizeMegaMenu")}),a.each(function(){var t=b(this),i=t.find(".thb_mega_menu>li"),n=t.find(".category-children>.tab-holder");i.first().addClass("active"),i.on("hover",function(){var t=b(this),e=t.index(),a=n.filter(":nth-child("+(e+1)+")");i.removeClass("active"),t.addClass("active"),TweenLite.set(n,{display:"none"}),TweenLite.set(a,{display:"flex"}),a.find(".thb-carousel").length&&a.find(".thb-carousel").slick("setPosition")})})}},mobileMenu:{selector:"#mobile-menu",init:function(){var t=b(this.selector);("thb-submenu"===t.data("behaviour")?t.find(".thb-mobile-menu li.menu-item-has-children>a"):t.find(".thb-mobile-menu li.menu-item-has-children>a .thb-arrow")).on("click",function(t){var e=b(this),a=e.parents("a").length?e.parents("a"):e,i=a.next(".sub-menu");a.hasClass("active")?(a.removeClass("active"),i.slideUp("200")):(a.addClass("active"),i.slideDown("200")),t.stopPropagation(),t.preventDefault()})}},hashLinks:{selector:"a[href*=#]",init:function(){b(this.selector).on("click",function(t){var e,a,i=b(this),n=i.attr("href");if(n&&(a=(e=-1!==n.indexOf("#")?n.substring(n.indexOf("#")+1):"")&&b("#"+e).length?b("#"+e).offset().top-b("#wpadminbar").outerHeight():0),b(".fixed-header-on").length&&"on"!==themeajax.settings.fixed_header_scroll){var o=b(".header>.row").outerHeight()+parseInt(themeajax.settings.fixed_header_padding.top,10)+parseInt(themeajax.settings.fixed_header_padding.bottom,10);o&&(a-=o)}e&&a&&(a="footer"===e?"max":a,i.parents(".thb-mobile-menu").length&&v.mobile_toggle.mobileTl.reverse(),b("#"+e).hasClass("vc_tta-panel")||TweenMax.to(x,1,{scrollTo:{y:a,autoKill:!1}}),t.preventDefault())})}},custom_scroll:{selector:".custom_scroll",init:function(){b(this.selector).each(function(){var t=b(this),e=new PerfectScrollbar(t[0],{suppressScrollX:!0});"menu-scroll"===t.attr("id")&&(v.menuscroll=e)})}},shop_toggle:{selector:"#thb-shop-filters",init:function(){var t=b(this.selector),e=b("#side-filters"),a=new TimelineMax({paused:!0,reversed:!0}),i=b(".widgets",e),n=b(".thb-mobile-close",e);a.set(c,{className:"+=open-filters"}).to(e,.3,{x:"0"},"start").to(n,.3,{scale:1},"start+=0.2").staggerFrom(i,.4,{autoAlpha:0},.1,"start+=0.2"),t.on("click",function(){return a.reversed()?a.timeScale(1).play():a.timeScale(1.2).reverse(),!1}),l.keyup(function(t){27===t.keyCode&&0<a.progress()&&a.reverse()}),r.add(n).on("click",function(){return 0<a.progress()&&a.reverse(),!1})}},mobile_toggle:{selector:".mobile-toggle-holder",init:function(){var t=b(this.selector),e=new TimelineMax({paused:!0,reversed:!0,onComplete:function(){v.menuscroll.update()},onReverseComplete:function(){c.removeClass("open-menu")}}),a=b(".thb-mobile-menu>li",d),i=b(".thb-secondary-menu>li",d),n=b(".menu-footer>*",d),o=b(".socials>a",d),s=b(".thb-mobile-close",d);e.set(c,{className:"+=open-menu"}).to(d,.3,{x:"0"},"start").to(s,.3,{scale:1},"start+=0.2").staggerFrom(a,.4,{autoAlpha:0},.1,"start+=0.2").staggerFrom(i.add(n).add(o),.3,{autoAlpha:0},.1,"start+=0.2"),t.on("click",function(){return e.reversed()?e.timeScale(1).play():e.timeScale(1.2).reverse(),!1}),l.keyup(function(t){27===t.keyCode&&0<e.progress()&&e.reverse()}),r.add(s).on("click",function(){return 0<e.progress()&&e.reverse(),!1})}},search:{selector:".thb-search-holder",init:function(){var t=b(this.selector),e=b(".thb-search-popup"),a=b(".thb-mobile-close",e),i=b(".thb-close-text",e),n=new TimelineMax({paused:!0});n.to(e,.5,{autoAlpha:1},"start").to(a,.3,{scale:1},"start+=0.2"),t.on("click",function(){return n.play(),!1}),i.add(a).on("click",function(){return 0<n.progress()&&n.reverse(),!1}),l.on("keyup",function(t){27===t.keyCode&&0<n.progress()&&n.reverse()})}},autoComplete:{selector:".thb-search-popup",init:function(){var a=b(this.selector);b(".search-field",a).autocomplete({minChars:3,appendTo:b(".thb-autocomplete-wrapper",a),containerClass:"thb-results-container",triggerSelectOnValidInput:!1,serviceUrl:themeajax.url+"?action=thb_ajax_search",tabDisabled:!0,showNoSuggestionNotice:!1,onSearchStart:function(){b(".thb-autocomplete-wrapper",a).addClass("thb-loading")},formatResult:function(t,e){return'<div class="small-12 columns"><a href="'+t.url+'"><figure class="post-gallery">'+t.thumbnail+'</figure><div class="post-title"><h6>'+t.value+"</h6></div></a></div>"},onSelect:function(t){-1!==t.id&&(y.location.href=t.url)},onSearchComplete:function(t,e){b(".thb-autocomplete-wrapper",a).removeClass("thb-loading"),e.length&&b(".thb-results-container").append(b('<div class="thb-search-btn"><a href="'+themeajax.settings.site_url+"?s="+t+'" class="btn style2 small">'+themeajax.l10n.results_all+"</a></div>"))}})}},pinIt:{selector:".thb-pinit-on",init:function(t){var e=this;b(e.selector);b("#wrapper").imagesLoaded(function(){e.check(b(".post-detail .post-content-container img:not(.attachment-woocommerce_thumbnail):not(.thb-pinned)"))}),b(".post-detail .post-content-container img:not(.attachment-woocommerce_thumbnail):not(.thb-pinned)").on("lazyloaded",function(){e.check(b(this))})},check:function(t){t.each(function(){var t=b(this),e="thb-pinned";if(!t.hasClass(e)&&!t.hasClass("attachment-woocommerce_thumbnail")&&100<t.width()&&100<t.height()){var a,i=t.parent(),n=t.parents(".post[data-url]").data("url");if(i.is("a")){var o=i.attr("href");void 0!==o&&o.match(/\.(gif|jpeg|jpg|png)/)&&(a=o),i.closest("figure").length||i.wrap('<figure class="thb-pin-it-container"></figure>'),i=i.parent()}else i.is("figure")||i.closest("figure").length||t.wrap('<figure class="thb-pin-it-container"></figure>'),i=t.parent();t.closest("figure").hasClass("thb-pin-it-container")||t.closest("figure").addClass("thb-pin-it-container"),a||(a=t.is("img")?void 0!==t.data("src")?t.data("src"):t.attr("src"):void 0!==i.find("img").data("src")?i.find("img").data("src"):i.find("img").attr("src")),a=encodeURIComponent(a),n=encodeURIComponent(n);var s=i;i.is("figure")||(s=i.closest("figure"));var r=s.find(".wp-caption-text").text()?s.find(".wp-caption-text").text():s.find("img").attr("alt");r&&(r="&amp;description="+encodeURIComponent(r));["alignnone","aligncenter","alignleft","alignright"].forEach(function(t){if(i.find("img").hasClass(t)){i.find("img").removeClass(t),i.find("img").closest("figure").addClass(t);var e=i.find("img").attr("width");"NaN"!==parseInt(e)&&i.find("img").closest("figure").width(e)}}),b('<a class="thb-pin-it" href="http://www.pinterest.com/pin/create/bookmarklet/?url='+n+"&amp;media="+a+r+'&is_video=false" target="_blank"><i class="thb-icon-pinterest"></i>'+themeajax.l10n.pinit+"</a>").appendTo(i).addClass("thb-pin-it-ready").on("click",function(){var t=screen.width/2-320,e=screen.height/2-220-100;return y.open(b(this).attr("href"),"mywin","left="+t+",top="+e+",width=640,height=440,toolbar=0"),!1}),t.addClass(e)}})}},slick:{selector:".thb-carousel",init:function(t){(t||b(this.selector)).each(function(){var i=b(this),t=i.data("columns")?i.data("columns"):3,e=2<t.length?parseInt(t.substr(t.length-1)):t,a=i.find(".columns"),n=2<t.length?5===e?5:12/e:t,o=!!i.data("fade"),s=!0===i.data("navigation"),r=!0===i.data("autoplay"),l=!0===i.data("pagination"),c=!!i.data("center")&&(!!(a.length>n&&n%2)&&i.data("center")),d=!1!==i.data("infinite"),h=i.data("autoplay-speed")?i.data("autoplay-speed"):4e3,p=!!i.data("disablepadding")&&i.data("disablepadding"),u=!0===i.data("vertical"),f=i.data("asnavfor"),m=!0===i.data("adaptive"),g=w.hasClass("rtl");i.hasClass("slick-initialized")||i.hasClass("bottom-arrows")&&i.append('<div class="slick-bottom-arrows"><div class="slick-dots-wrapper"></div></div>'),(i.hasClass("overflow-visible-only")||i.hasClass("overflow-visible"))&&i.parents(".wpb_row:not(.vc_inner)").css("overflow","hidden");var v={dots:l,arrows:s,infinite:d,speed:1e3,rows:0,fade:o,centerPadding:"10%",centerMode:c,slidesToShow:n,adaptiveHeight:m,slidesToScroll:1,rtl:g,slide:":not(.slick-dots-wrapper):not(.slick-bottom-arrows):not(.post-gallery):not(.btn)",cssEase:"cubic-bezier(0.35, 0.3, 0.2, 0.85)",autoplay:r,autoplaySpeed:h,touchThreshold:themeajax.settings.touch_threshold,pauseOnHover:!0,accessibility:!1,focusOnSelect:!0,customPaging:function(t,e){return i.hasClass("text-pagination")?e+1+' <span class="slick-of">'+themeajax.l10n.just_of+" "+t.$slides.length+"</span>":b('<button type="button">'+(e+1)+themeajax.svg.pagination+"</button>")},prevArrow:'<button type="button" class="slick-nav slick-prev">'+themeajax.svg.prev_arrow+"</button>",nextArrow:'<button type="button" class="slick-nav slick-next">'+themeajax.svg.next_arrow+"</button>",responsive:[{breakpoint:1441,settings:{slidesToShow:n<6?n:u?n-1:6,centerPadding:p?0:"40px"}},{breakpoint:1201,settings:{slidesToShow:n<4?n:u?n-1:4,centerPadding:p?0:"40px"}},{breakpoint:1025,settings:{slidesToShow:n<3?n:u?n-1:3,centerPadding:p?0:"40px"}},{breakpoint:641,settings:{slidesToShow:1}}]};i.hasClass("thb-post-carousel-style3")&&(v.variableWidth=!0,v.responsive=!1),i.hasClass("bottom-arrows")&&(v.appendArrows=i.find(".slick-bottom-arrows"),v.appendDots=i.find(".slick-bottom-arrows>.slick-dots-wrapper")),f&&b(f).is(":visible")&&(v.asNavFor=f),i.data("fade")&&(v.fade=!0),i.hasClass("thb-background-hover")&&i.on("init",function(t,e){var a=i.parents(".thb-post-background").find(".post-background-gallery .wp-post-image");e.$slides.on("hover",function(){var t=b(this).data("slick-index"),e=a.eq(t);TweenMax.to(a.not(e),.5,{autoAlpha:0}),TweenMax.to(e,.5,{autoAlpha:.8})})}),i.hasClass("product-images")&&"undefined"!=typeof wc_single_product_params&&y.wc_single_product_params.zoom_enabled&&b.fn.zoom&&i.on("afterChange",function(t,e,a){var i=e.$slides.eq(a),n=i.width(),o=!1;if(i.find("img").data("large_image_width")>n&&(o=!0),o){var s=b.extend({touch:!1},y.wc_single_product_params.zoom_options);"ontouchstart"in y&&(s.on="click"),i.trigger("zoom.destroy"),i.zoom(s),i.trigger("mouseenter.zoom")}}),i.hasClass("product-thumbnails")&&(v.vertical=!0,v.responsive[2].settings.vertical=!1,v.responsive[2].settings.slidesToShow=4,v.responsive[3].settings.vertical=!1,v.responsive[3].settings.slidesToShow=4),i.hasClass("products")&&(v.responsive[3].settings.slidesToShow=2),c&&i.on("init",function(){i.addClass("centered")}),i.on("init breakpoint",function(t,e){i.hasClass("bottom-arrows")&&i.hasClass("has-carousel-button")&&i.find(".btn").appendTo(i.find(".slick-dots-wrapper")),lazySizes&&lazySizes.autoSizer.checkElems(),x.trigger("scroll.thb-animation")}),i.on("breakpoint",function(t,e,a){e.$slides.data("thb-animated",!1),x.trigger("scroll.thb-animation")}),i.on("beforeChange",function(t,e,a){i.find(".post-gallery.thb-parallax")&&w.hasClass("thb-parallax-on")&&b(".post-gallery.thb-parallax").jarallax("onScroll")}),i.on("afterChange",function(t,e,a){e.$slides&&x.trigger("scroll.thb-animation")}),i.slick(v)})}},fixedMe:{selector:".thb-sticky-separator",init:function(t){var e=t||b(this.selector),a=n.outerHeight();i.outerHeight();e.each(function(){var t=b(this);t.parents();if(t.hasClass("thb-sticky-separator")&&!t.data("fixed-enabled")){t.nextAll().wrapAll('<div class="thb-fixed" />').parents(".thb-fixed:not(.thb-sticky-separator)");t.remove(),t.data("fixed-enabled",!0)}})}},trendingTabs:{selector:".thb-trending",init:function(){b(this.selector).each(function(){var t=b(this),a=b(".thb-trending-content",t),i=b(".thb-trending-content-inner",t),n=b(".thb-trending-tabs a",t);n.on("click",function(){var t=b(this),e=t.data("time");if(t.hasClass("active"))return!1;b.ajax(themeajax.url,{method:"POST",data:{action:"thb_trending",time:e},beforeSend:function(){a.addClass("thb-loading"),n.removeClass("active"),t.addClass("active")},success:function(t){a.removeClass("thb-loading");var e=b.parseHTML(b.trim(t));e.length;i.empty().append(e),TweenMax.set(e,{autoAlpha:0}),TweenMax.staggerTo(e,.25,{autoAlpha:1},.1)}})})})}},select2:{selector:'.thb-select2, select.orderby, .widget [name="archive-dropdown"], .widget_categories #cat',init:function(){b(this.selector).select2()}},searchFields:{selector:".search-fields select",init:function(){b(this.selector).on("change",function(){var t=b(this).val();return t&&(y.location=t),!1})}},accordion:{selector:".thb-accordion",init:function(){b(this.selector).each(function(){var t=b(this),a=t.hasClass("has-accordion"),i=t.find(".vc_tta-panel"),e=i.eq(0);a&&e.addClass("active").find(".vc_tta-panel-body").show(),t.on("click",".vc_tta-panel-heading a",function(){var e=b(this),t=e.parents(".vc_tta-panel");return a&&(i.removeClass("active"),i.not(t).find(".vc_tta-panel-body").slideUp("400")),b(this).parents(".vc_tta-panel").toggleClass("active"),t.find(".vc_tta-panel-body").slideToggle("400",function(){if(a){var t=e.parents(".vc_tta-panel-heading").offset().top-b("#wpadminbar").outerHeight();TweenMax.to(x,1,{scrollTo:{y:t,autoKill:!1}})}_.delay(function(){x.trigger("scroll.thb-animation")},400)}),!1})})}},freeScroll:{selector:".thb-freescroll",init:function(){b(this.selector).each(function(){var e=b(this),t=e.data("direction"),a=e.data("pause");e.flickity({prevNextButtons:!1,wrapAround:!0,pageDots:!1,freeScroll:!0,adaptiveHeight:!0,imagesLoaded:!0});var i=e.data("flickity");function n(){"thb-left-to-right"===t?i.x++:i.x--,i.integratePhysics(),i.settle(i.x),i.paused||(i.raf=y.requestAnimationFrame(n))}i.paused=!0,a&&e.on("mouseenter",function(){o.mobile()||o.tablet()||(i.paused=!0)}).on("mouseleave",function(){o.mobile()||o.tablet()||(i.paused=!1,n())}),x.on("scroll.flkty",function(t){e.is(":in-viewport")?i.paused&&(i.paused=!1,n()):i.paused=!0}).trigger("scroll.flkty"),e.find("img").on("lazyloaded",function(){e.flickity("resize")}),e.find("img").on("imagesLoaded",function(){e.flickity("resize")})})}},countdown:{selector:".thb-countdown",init:function(){b(this.selector).each(function(){var t=b(this),e=t.data("date"),a=t.attr("offset");t.downCount({date:e,offset:a})})}},tabs:{selector:".thb-tabs",init:function(){b(this.selector).each(function(){var o=b(this),s=(o.hasClass("has-accordion"),o.data("animation")),t=o.data("active-section")?o.data("active-section"):1,r=o.find(".vc_tta-panel"),l=(r.eq(0),b('<div class="thb-tab-menu" />').prependTo(o));r.each(function(){b(this).find(".vc_tta-panel-heading").appendTo(l)}),b(".vc_tta-panel-heading",l).eq(0).find("a").addClass("active"),r.eq(0).addClass("visible"),x.on("resize.tabs",function(){var t=r.filter(":visible").height()+l.outerHeight(!0);o.css("height",t)}).trigger("resize.tabs"),b(this).on("click",".vc_tta-panel-heading a",function(t){var e=b(this),a=s?"300":0,i=(parseInt(a),e.parents(".vc_tta-panel-heading").index()),n=r.eq(i);return r.not(n).fadeOut(a,function(){o.height();var t=n.height()+l.outerHeight(!0);n.fadeIn(a,function(){x.trigger("scroll.thb-animation"),n.find(".thb-carousel")&&n.find(".thb-carousel").slick("setPosition")}),o.css({height:t})}),o.find(".vc_tta-panel-heading a").removeClass("active"),e.addClass("active"),!1}),1<t&&(o.find(".vc_tta-panel-heading a").removeClass("active"),o.find(".vc_tta-panel-heading").eq(t-1).find("a").addClass("active"),o.find(".vc_tta-panel").removeClass("visible"),o.find(".vc_tta-panel").eq(t-1).addClass("visible"))})}},shareArticleDetail:{selector:".social-button-holder, .thb-tweet-actions, .thb-post-bottom",init:function(){b(this.selector).find(".social:not(.whatsapp), .post-social-share:not(.whatsapp)").on("click",function(){var t=screen.width/2-320,e=screen.height/2-220-100;return y.open(b(this).attr("href"),"mywin","left="+t+",top="+e+",width=640,height=440,toolbar=0"),!1})}},isotope:{selector:".thb-masonry",init:function(){b(this.selector).each(function(t){var i,n,e=b(this),a=(e.find(".columns"),e.data("thb-animation")),o={layoutMode:"packery",percentPosition:!0,itemSelector:".columns",transitionDuration:0,originLeft:!w.hasClass("rtl"),hiddenStyle:{},visibleStyle:{}},s=.5,r=s/5;e.data("grid_type");"thb-fade"===a?n={opacity:1}:"thb-scale"===a?n={opacity:1,scale:1}:"thb-none"===a?(s=0,n={opacity:1},r=0):"thb-vertical-flip"===a?n={opacity:1,y:0,rotationX:"0deg"}:"thb-reveal-left"===a?(r=.3,n={opacity:s=1,className:"+=reveal-in"}):n={y:0,opacity:1},e.addClass("thb-loaded"),e.on("layoutComplete",function(t,e){var a=_.map(e,"element");x.on("scroll.masonry-animation",_.debounce(function(){if(i=b(a).filter(":in-viewport").filter(function(){return void 0===b(this).data("thb-in-viewport")})){var t=i;i.data("thb-in-viewport",!0),TweenMax.staggerTo(i.find(".post"),s,n,r,function(){t.addClass("thb-added"),t.data("thb-in-viewport",!0),!1})}},20)).trigger("scroll.masonry-animation")}).isotope(o).isotope("layout"),e.imagesLoaded(function(){e.isotope("layout")})})}},comments:{selector:"#comment-toggle",init:function(){b(this.selector).on("click",function(){return b(this).parents("#comments").find(".comments-container").slideToggle("400",function(){x.trigger("resize.sticky-resize")}),!1})}},plyr:{selector:".flex-video, .wp-video video",init:function(){b(this.selector);var t=themeajax.settings.thb_custom_video_player,e=themeajax.settings.viai_publisher_id,a={playsinline:!0};if(e&&""!==e&&(a.ads={enabled:!0,publisherId:e}),"on"===t)Plyr.setup(this.selector,a)}},videoPlaylist:{selector:".thb-video-playlist",init:function(){var e=b(this.selector);e.each(function(){var t=b(this),a=t.find(".thb-video-holder"),i=t.find(".thumbnail-style6");i.eq(0).addClass("video-active"),e.on("click",".thumbnail-style6",function(){var t=b(this),e=t.data("id");return t.hasClass("video-active")||(i.removeClass("video-active"),t.addClass("video-active"),a.addClass("thb-loading"),b.post(themeajax.url,{action:"thb-parse-embed",post_ID:e},function(t){t.success&&(a.html(t.data.body),v.plyr.init()),a.removeClass("thb-loading")})),!1})})}},jarallax:{selector:".thb-parallax-on .thb-parallax",init:function(t){(t||b(this.selector)).each(function(){var t=b(this),e={speed:.8,imgElement:".wp-post-image"};t.parents(".post").hasClass("format-video")&&(e.videoSrc=t.data("video")),t.jarallax(e)})}},magnificInline:{selector:".mfp-inline",init:function(){var t=b(this.selector);t.magnificPopup({type:"inline",tLoading:themeajax.l10n.lightbox_loading,mainClass:"mfp-zoom-in",fixedBgPos:!0,fixedContentPos:!0,removalDelay:400,closeBtnInside:!0,closeMarkup:'<button title="%title%" class="mfp-close"><span>'+themeajax.svg.close_arrow+"</span></button>",callbacks:{close:function(){t.hasClass("newsletter-popup")&&Cookies.set("newsletter_popup","1",{expires:parseInt(themeajax.settings.newsletter_length,10)})}}})}},magnificGallery:{selector:".mfp-gallery, .post-content .gallery",init:function(t){var e=t||b(this.selector);e.each(function(){b(this).magnificPopup({delegate:'a:not(.thb-pin-it)[href$=".png"],a:not(.thb-pin-it)[href$=".jpg"],a:not(.thb-pin-it)[href$=".jpeg"],a:not(.thb-pin-it)[href$=".gif"]',type:"image",tLoading:themeajax.l10n.lightbox_loading,mainClass:"mfp-zoom-in",removalDelay:400,fixedContentPos:!1,closeBtnInside:!1,closeMarkup:'<button title="%title%" class="mfp-close"><span>'+themeajax.svg.close_arrow+"</span></button>",gallery:{enabled:!0,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir% mfp-prevent-close">'+themeajax.svg.prev_arrow+"</button>",tCounter:'<span class="mfp-counter">'+themeajax.l10n.of+"</span>"},image:{verticalFit:!0,titleSrc:function(t){return t.img.attr("alt")}},callbacks:{imageLoadComplete:function(){var t=this;_.delay(function(){t.wrap.addClass("mfp-image-loaded")},10)},beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")},open:function(){b.magnificPopup.instance.next=function(){var t=this;t.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){b.magnificPopup.proto.next.call(t)},125)},b.magnificPopup.instance.prev=function(){var t=this;this.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){b.magnificPopup.proto.prev.call(t)},125)}}}})})}},magnificImage:{selector:".mfp-image",init:function(){var e=b(this.selector),a=[],i=[],n={type:"image",mainClass:"mfp-zoom-in",tLoading:themeajax.l10n.lightbox_loading,removalDelay:400,fixedContentPos:!1,closeBtnInside:!1,closeMarkup:'<button title="%title%" class="mfp-close"><span>'+themeajax.svg.close_arrow+"</span></button>",callbacks:{imageLoadComplete:function(){var t=this;_.delay(function(){t.wrap.addClass("mfp-image-loaded")},10)},beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")}}},o={type:"image",tLoading:themeajax.l10n.lightbox_loading,mainClass:"mfp-zoom-in",removalDelay:400,fixedContentPos:!1,gallery:{enabled:!0,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir% mfp-prevent-close">'+themeajax.svg.prev_arrow+"</button>",tCounter:'<span class="mfp-counter">'+themeajax.l10n.of+"</span>"},image:{verticalFit:!0,titleSrc:function(t){return t.img.attr("alt")}},callbacks:{imageLoadComplete:function(){var t=this;_.delay(function(){t.wrap.addClass("mfp-image-loaded")},10)},beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")},open:function(){b.magnificPopup.instance.next=function(){var t=this;t.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){b.magnificPopup.proto.next.call(t)},125)},b.magnificPopup.instance.prev=function(){var t=this;this.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){b.magnificPopup.proto.prev.call(t)},125)}}}};e.each(function(){var t=b(this).data("thb-group");t&&""!==t?i.push(t):e.magnificPopup(n)});var t=_.uniq(i);b.each(t,function(t,e){a.push(b('.mfp-image[data-thb-group="'+e+'"]'))}),t.length&&b.each(a,function(t,e){e.magnificPopup(o)})}},magnificVideo:{selector:".mfp-video",init:function(){b(this.selector).magnificPopup({type:"iframe",tLoading:themeajax.l10n.lightbox_loading,closeBtnInside:!1,closeMarkup:'<button title="%title%" class="mfp-close"><span>'+themeajax.svg.close_arrow+"</span></button>",mainClass:"mfp-zoom-in",removalDelay:400,fixedContentPos:!1})}},lightboxGallery:{selector:".thb-lightbox-button",init:function(){b(this.selector).each(function(){var t=b(this),i=[],e=b(t.data("href")),n=b(".post-gallery-content",e),o=n.eq(0).find(".thb-gallery-grid");t.data("click-attached")||(t.data("click-attached",!0),n.each(function(t){var e=b(this),a=b(".lightbox-grid",e);0<t&&o.clone().appendTo(e.find(".image")),i.push({src:b(this)}),a.on("click",function(){e.find(".image").toggleClass("gridActive")})}),t.on("click",function(){return b.magnificPopup.open({mainClass:"mfp-zoom-in post-gallery-lightbox",closeBtnInside:!0,items:i,removalDelay:400,overflowY:"hidden",tLoading:themeajax.l10n.lightbox_loading,gallery:{enabled:!0,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir% mfp-prevent-close">'+themeajax.svg.prev_arrow+"</button>",tCounter:'<span class="mfp-counter">'+themeajax.l10n.of+"</span>"},closeMarkup:'<button title="%title%" class="mfp-close">'+themeajax.svg.close_arrow+"</button>",callbacks:{imageLoadComplete:function(){var t=this;_.delay(function(){t.wrap.addClass("mfp-image-loaded")},10)},beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")},open:function(){var t=b.magnificPopup.instance;b(".lightbox-close").on("click",function(){return t.close(),!1}),b(".thb-gallery-arrow.prev").on("click",function(){return t.prev(),!1}),b(".thb-gallery-arrow.next").on("click",function(){return t.next(),!1}),t.next=function(){this.wrap.removeClass("mfp-image-loaded"),b.magnificPopup.proto.next.call(this)},t.prev=function(){this.wrap.removeClass("mfp-image-loaded"),b.magnificPopup.proto.prev.call(this)}},close:function(){n.find(".image").removeClass("gridActive"),b(".thb-gallery-arrow.prev").off("click"),b(".thb-gallery-arrow.next").off("click")},change:function(){var a=b.magnificPopup.instance;this.content.find(".thb-grid-image").filter(function(){return void 0===b(this).data("thb-assigned")}).on("click",function(){var t=b(this),e=t.parent().index();return a.goTo(e),t.data("thb-assigned",!0),!1}),setTimeout(function(){n.find(".image").removeClass("gridActive")},125)}}}),!1}))})}},verticalGalleries:{selector:".smart-list-v3",init:function(){b(this.selector).each(function(){var e=b(this),n=b(".smart-list-item",e),o=n.length;n.each(function(){var t=b(this),e=b(".arrow.to_top:not(.disabled)",t),a=b(".arrow.to_bottom:not(.disabled)",t),i=n.index(t);e.on("click",function(){if(0<i){var t=n.eq(i-1).offset().top-b("#wpadminbar").outerHeight()-b(".header.fixed").outerHeight()-20;TweenMax.to(x,1,{scrollTo:{y:t,autoKill:!1}})}return!1}),a.on("click",function(){if(i<o){var t=n.eq(i+1).offset().top-b("#wpadminbar").outerHeight()-b(".header.fixed").outerHeight()-20;TweenMax.to(x,1,{scrollTo:{y:t,autoKill:!1}})}return!1})}),l.keyup(function(t){40===t.keyCode?b(".smart-list-item:in-viewport",e).last().find(".arrow.to_bottom").trigger("click"):38===t.keyCode&&b(".smart-list-item:in-viewport",e).last().find(".arrow.to_top").trigger("click")})})}},reactions:{selector:".thb-article-reactions",init:function(){b(this.selector).each(function(){var t=b(this),e=b(".thb-reaction",t),n=t.data("post-id"),o="thb-reactions-"+n;t.data("thb-initialized")||(t.data("thb-initialized",!0),e.on("click",function(){var a=b(this),t=a.hasClass("active"),i=a.data("slug");return a.hasClass("thb-reaction-loading")||b.ajax(themeajax.url,{method:"POST",data:{action:"thb_save_post_reactions",post_id:n,reaction:i,is_active:t},beforeSend:function(){a.addClass("thb-reaction-loading")},success:function(t){a.toggleClass("active"),a.removeClass("thb-reaction-loading");var e=JSON.parse(t);a.find(".thb-reaction-count").html(e[i]),Cookies.set(o,e,{expires:30})}}),!1}))})}},articleScroll:{selector:"#infinite-article",pagetitle:b("#page-title"),org_post_url:y.location.href,org_post_title:document.title,org_shares:!1,top:0,init:function(){var t=this,h=b(t.selector),e=h.data("infinite"),a=h.find(".post-detail:first-child"),p=(a.find(".thb-social-fixed"),a.data("id")),u=p,f=!1,i=b(".footer").outerHeight()+b(".subfooter").outerHeight(),n=themeajax.settings.infinite_count,o=b('<div class="thb-preloader">'+themeajax.svg.preloader+"</div>"),m=0,s=_.debounce(function(){t.location_change()},10),r=_.debounce(function(){(!n||m<parseInt(n,10))&&x.scrollTop()>=l.height()-x.height()-i-400&&!1===f&&p===u&&(h.addClass("thb-loading"),b.ajax(themeajax.url,{method:"POST",data:{action:"thb_infinite_ajax",post_id:u},beforeSend:function(){f=!(p=null),o.appendTo(h)},success:function(t){m++,f=!1;var e,a,i,n,o,s=b.parseHTML(t),r=b(s).find(".adsbygoogle"),l=b(s).find(".twitter-tweet, .twitter-timeline"),c=b(s).find(".instagram-media");if(h.removeClass("thb-loading"),h.find(".thb-preloader").remove(),s){if(p=b(s).find(".post-detail").data("id"),u=p,b(s).appendTo(h),v.shareArticleDetail.init(),v.fixedMe.init(),v.jarallax.init(),v.slick.init(),v.magnificImage.init(),v.magnificGallery.init(),v.magnificVideo.init(),v.lightboxGallery.init(),v.verticalGalleries.init(),v.newsletter.init(),v.reactions.init(),v.animation.init(),v.pinIt.init(),v.retinaJS.init(),v.plyr.init(),void 0!==y.instgrm)y.instgrm.Embeds.process();else if(c.length&&void 0===y.instgrm){var d=document.createElement("script");d.src="//platform.instagram.com/en_US/embeds.js",d.onload=function(){y.instgrm.Embeds.process()},w.append(d)}void 0!==y.twttr?twttr.widgets.load(document.getElementById("infinite-article")):l.length&&void 0===y.twttr&&(y.twttr=(e=document,a="twitter-wjs",n=e.getElementsByTagName("script")[0],o=y.twttr||{},e.getElementById(a)||((i=e.createElement("script")).id=a,i.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(i,n),o._e=[],o.ready=function(t){o._e.push(t)}),o)),void 0!==y.addthis&&addthis.toolbox(),void 0!==y.atnt&&y.atnt(),void 0!==y.googletag&&googletag.pubads().refresh(),void 0!==y.adsbygoogle&&r.length&&r.each(function(){(adsbygoogle=y.adsbygoogle||[]).push({})}),"undefined"!=typeof FB&&FB.init({status:!0,cookie:!0,xfbml:!0}),b(document.body).trigger("thb_after_infinite_load")}else p=null;x.trigger("resize.sticky-resize")}}))},50);"on"===e?(x.on("scroll.infinite",s),x.on("scroll.infinite",r),TweenMax.set(b(".indicator-fill",".header.fixed"),{drawSVG:"0% 0%"}),b(".thb-reading-indicator",".header.fixed").on("click",function(){return TweenMax.to(x,2,{scrollTo:{y:t.top,autoKill:!1}}),!1})):x.on("scroll.infinite",function(){t.borderWidth(b(".post-detail-row").offset().top,b(".post-detail-row").outerHeight(!0))})},location_change:function(){var t,e,a,i=this,c=(b(i.selector),x.scrollTop()),d=c+x.height(),h=[];if(b(".post-detail-row").each(function(){var t,e=b(this),a=e.find(".post-detail"),i=a.data("id"),n=e.offset().top,o=e.outerHeight(!0),s=a.data("url"),r=a.find(".post-title h1").text(),l=e.find(".thb-social-fixed");t=n+o,n<c&&d<t?h.push({id:i,top:n,bottom:t,post_url:s,post_title:r,alength:o,shares:l}):c<n&&n<d?h.push({id:i,top:n,bottom:t,post_url:s,post_title:r,alength:o,shares:l}):c<t&&t<d&&h.push({id:i,top:n,bottom:t,post_url:s,post_title:r,alength:o,shares:l})}),0===h.length)e=i.org_post_url,t=i.org_post_title,a=i.org_shares;else if(1===h.length){var n=h.pop();e=n.post_url,t=n.post_title,a=n.shares,i.borderWidth(n.top,n.alength)}else e=h[0].post_url,t=h[0].post_title,a=h[0].shares,i.borderWidth(h[0].top,h[0].alength);i.updateURL(e,t,a)},updateURL:function(t,e,a){y.location.href!==t&&(""!==t&&(history.replaceState(null,null,t),document.title=e,this.pagetitle.html(e),a&&(b(".header.fixed").find(".fixed-article-shares").empty().append(a.clone()),v.shareArticleDetail.init())),this.updateGA(t))},updateGA:function(t){if("undefined"!=typeof _gaq)_gaq.push(["_trackPageview",t]);else if("undefined"!=typeof ga){var e=/.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/.exec(t)[1];ga("send","pageview",e)}void 0!==y.reinvigorate&&void 0!==y.reinvigorate.ajax_track&&reinvigorate.ajax_track(t),"undefined"!=typeof googletag&&googletag.pubads().refresh()},borderWidth:function(t,e){var a=x.scrollTop(),i=(b(".footer").outerHeight(),b(".subfooter").outerHeight(),(a-t+b("#wpadminbar").outerHeight())/e);this.top=t+e,TweenMax.set(b(".indicator-fill",".header.fixed"),{drawSVG:"0% "+100*i+"%"})}},retinaJS:{selector:"img.retina_size:not(.retina_active)",init:function(){b(this.selector).each(function(){b(this).attr("width",function(){return b(this).attr("width")/2}).addClass("retina_active")})}},paginationStyle2:{selector:".pagination-style2",init:function(){b(this.selector).each(function(){var o=b(this),t=b(o.data("loadmore")),e=o.data("rand"),a=(t.text(),"thb_postajax_"+e),s=y[a].loop,r=y[a].style,l=y[a].columns,c=y[a].excerpts,d=y[a].count,h=y[a].featured_index,p=y[a].thb_i,u=2,f=!1,m=o.hasClass("thb-masonry")?"thb_masonry_posts":"thb_posts";t.on("click",function(){var i=b(this),n=i.text();return!1===f&&(i.html(themeajax.l10n.loading).addClass("loading"),b.ajax(themeajax.url,{method:"POST",data:{action:m,count:d,loop:s,columns:l,style:r,excerpts:c,featured_index:h,thb_i:p,page:u++},beforeSend:function(){f=!0},success:function(t){var e=b.parseHTML(b.trim(t)),a=e?e.length:0;""===t||"undefined"===t||"No More Posts"===t||"No $args array created"===t?i.html(themeajax.l10n.nomore).removeClass("loading").off("click"):(o.data("isotope")?(b(e).appendTo(o).hide(),o.isotope("appended",b(e)),b(e).imagesLoaded(function(){o.isotope("layout"),TweenMax.staggerFromTo(b(e),.5,{autoAlpha:0,y:20},{autoAlpha:1,y:0},.15,function(){f=!1})})):(b(e).insertBefore(i.parents(".masonry_loader")),TweenMax.staggerFromTo(b(e),.5,{autoAlpha:0,y:20},{autoAlpha:1,y:0},.15,function(){f=!1})),v.jarallax.init(),x.trigger("resize.sticky-resize"),b(e).imagesLoaded(function(){x.trigger("resize.sticky-resize")}),a<d?i.html(themeajax.l10n.nomore).removeClass("loading"):i.html(n).removeClass("loading"))}})),!1})})}},paginationStyle3:{selector:".pagination-style3",init:function(){var g=b(this.selector);g.each(function(){var i=b(this),t=b(i.data("loadmore")),e=i.data("rand"),a=(t.text(),"thb_postajax_"+e),n=y[a].loop,o=y[a].style,s=y[a].columns,r=y[a].excerpts,l=y[a].count,c=y[a].featured_index,d=y[a].thb_i,h=2,p=!1,u=i.hasClass("thb-masonry")?"thb_masonry_posts":"thb_posts",f=b('<div class="thb-preloader">'+themeajax.svg.preloader+"</div>"),m=_.debounce(function(){!1===p&&x.scrollTop()+x.height()+150>=g.offset().top+g.outerHeight()&&b.ajax(themeajax.url,{method:"POST",data:{action:u,count:l,loop:n,columns:s,style:o,excerpts:r,featured_index:c,thb_i:d,page:h++},beforeSend:function(){p=!0,f.appendTo(g)},success:function(t){var e=b.parseHTML(b.trim(t)),a=e?e.length:0;""===t||"undefined"===t||"No More Posts"===t||"No $args array created"===t?x.off("scroll",m):(i.find(".thb-preloader").remove(),i.data("isotope")?(b(e).appendTo(i).hide(),i.isotope("appended",b(e)),b(e).imagesLoaded(function(){i.isotope("layout"),TweenMax.staggerFromTo(b(e),.5,{autoAlpha:0,y:20},{autoAlpha:1,y:0},.15,function(){p=!1})})):(b(e).appendTo(i),TweenMax.staggerFromTo(b(e),.5,{autoAlpha:0,y:20},{autoAlpha:1,y:0},.15,function(){p=!1})),v.jarallax.init(),x.trigger("resize.sticky-resize"),b(e).imagesLoaded(function(){x.trigger("resize.sticky-resize")}),l<=a&&x.on("scroll",m))}})},30);x.on("scroll",m)})}},animation:{selector:".animation, .thb-counter, .thb-iconbox, .thb-fadetype, .thb-slidetype, .thb-progressbar, .thb-autotype",init:function(){var t=this,e=b(t.selector);x.on("scroll.thb-animation",function(){t.control(e,!0)}).trigger("scroll.thb-animation")},container:function(t){var e=b(this.selector,t);this.control(e,!1)},control:function(t,e){var a=0,i=.15,n=.5;(e?t.filter(":in-viewport"):t).each(function(){var t=b(this),e={autoAlpha:1,x:0,y:0,z:0,rotationZ:"0deg",rotationX:"0deg",rotationY:"0deg",delay:a*i};i=t.hasClass("thb-client")||t.hasClass("thb-counter")||t.hasClass("thb-iconlist-li")?(n=.2,.05):t.hasClass("thb-team-member")?(n=.4,.1):(n=.5,.15),!0!==t.data("thb-animated")&&(t.data("thb-animated",!0),t.hasClass("thb-iconbox")?v.iconbox.control(t,a*i):t.hasClass("thb-counter")?v.counter.control(t,a*i):t.hasClass("portfolio-title")?v.portfolioTitle.control(t,a*i):t.hasClass("thb-autotype")?v.autoType.control(t,a*i):t.hasClass("thb-fadetype")?v.fadeType.control(t,a*i):t.hasClass("thb-slidetype")?v.slideType.control(t,a*i):t.hasClass("thb-progressbar")?v.progressBar.control(t,a*i):(t.hasClass("scale")&&(e.scale=1),TweenMax.to(t,n,e)),a++)})}},perspective:{selector:".perspective-enabled",init:function(){var i=b(this.selector),n=x.scrollTop();requestAnimationFrame(function t(){var e=x.scrollTop(),a=e+x.height()+"px";n!==e&&(TweenMax.set(i,{"perspective-origin":"50% "+a}),n=e),requestAnimationFrame(t)})}},autoType:{selector:".thb-autotype",control:function(t,e,a){if(void 0===t.data("thb-in-viewport")||a){t.data("thb-in-viewport",!0);var i=t.find(".thb-autotype-entry"),n=i.data("strings"),o=i.data("speed")?i.data("speed"):50,s=1===i.data("thb-loop"),r=1===i.data("thb-cursor");i.typed({strings:n,loop:s,showCursor:r,cursorChar:"|",contentType:"html",typeSpeed:o,backDelay:1e3})}}},fadeType:{selector:".thb-fadetype",control:function(t,e,a){if(void 0===t.data("thb-in-viewport")||a){t.data("thb-in-viewport",!0);var i=new SplitText(t.find(".thb-fadetype-entry")),n=new TimelineMax,o={};if(n.set(t,{visibility:"visible"}),t.hasClass("thb-fadetype-style1"))o={autoAlpha:0,y:10,rotationX:"-90deg",delay:e},n.staggerFrom(i.chars,.25,o,.05,"+=0",function(){i.revert()});else if(t.hasClass("thb-fadetype-style2"))for(var s=i.chars.length,r=0;r<s;r++){var l=i.chars[r],c=.5*Math.random();n.from(l,2,{opacity:0,ease:Linear.easeNone},c).from(l,2,{yPercent:-50,ease:Expo.easeOut},c)}}}},progressBar:{selector:".thb-progressbar",control:function(t,e,a){if(void 0===t.data("thb-in-viewport")||a){var i=t.find(".thb-progress"),n=i.data("progress");(new TimelineMax).to(t,.6,{autoAlpha:1,delay:e}).to(i.find("span"),1,{scaleX:n/100})}}},slideType:{selector:".thb-slidetype",control:function(t,e,a){if(void 0===t.data("thb-in-viewport")||a){t.data("thb-in-viewport",!0);var i,n,o=t.data("style"),s=new TimelineMax,r=.25,l=.05;"style1"===o?(n=t.find(".thb-slidetype-entry .lines"),r=.65,l=.15):"style2"===o?(n=(i=new SplitText(t.find(".thb-slidetype-entry"),{type:"words"})).words,r=.65,l=.15):"style3"===o&&(n=(i=new SplitText(t.find(".thb-slidetype-entry"))).chars),s.set(t,{visibility:"visible"}).staggerFrom(n,r,{y:"200%",delay:e},l,"+=0",function(){"style1"!==o&&i.revert()})}}},counter:{selector:".thb-counter",control:function(t,e){if(void 0===t.data("thb-in-viewport")){t.data("thb-in-viewport",!0);var a=t,i=a.find(".counter").eq(0),n=i[0],o=i.data("count"),s=i.data("speed"),r=a.data("separator"),l={el:n,value:0,duration:s,theme:"minimal"};a.hasClass("single-decimal")?l.format="(,ddd).d":r&&""!==r||(l.format="");var c=new Odometer(l);TweenMax.set(a,{visibility:"visible"}),setTimeout(function(){c.update(o)},e)}}},iconbox:{selector:".thb-iconbox",control:function(t,e){if(void 0===t.data("thb-in-viewport")&&!t.hasClass("animation-off")){t.data("thb-in-viewport",!0);var a=t,i=""!==a.data("animation_speed")?a.data("animation_speed"):"1.5",n=a.find("svg"),o=a.find("img:not(.thb_image_hover)"),s=n.find("path, circle, rect, ellipse"),r=a.find("h5"),l=a.find("p"),c=a.find(".thb-iconbox-line"),d=a.find(".thb-iconbox-line em"),h=new TimelineMax({delay:e,paused:!0,clearProps:"all"}),p=r.add(l).add(o);a.hasClass("left")||a.hasClass("right")||p.add(a.find(".thb-read-more")),h.set(a,{visibility:"visible"}).set(n,{visibility:"visible"}).from(s,i,{drawSVG:"0%"},.2,"s").staggerFromTo(p,i/2,{autoAlpha:0,y:"20px"},{autoAlpha:1,y:"0px"},.1,"s-="+i/2),d.length&&h.to(d,i/2,{scale:"1"},"s-="+i/1.5),c.length&&h.to(c,i/2,{scaleX:"1"},"s-="+i/1.5),h.play()}}},contactMap:{selector:".contact_map:not(.disabled)",init:function(){var m=this;b(m.selector).each(function(){var p,e=b(this),t=e.data("map-zoom"),a=e.data("map-style"),i=e.data("map-type"),n=e.data("pan-control"),o=e.data("zoom-control"),s=e.data("maptype-control"),r=e.data("scale-control"),l=e.data("streetview-control"),c=e.find(".thb-location"),d=e.next(".expand"),h=e.width(),u=new google.maps.LatLngBounds,f={styles:a,zoom:t,draggable:!("ontouchend"in document),scrollwheel:!1,panControl:n,zoomControl:o,mapTypeControl:s,scaleControl:r,streetViewControl:l,fullscreenControl:!1,mapTypeId:i,gestureHandling:"cooperative"};d&&d.toggle(function(){var t=e.parents(".row").width();return e.parents(".contact_map_parent").css("overflow","visible"),TweenMax.to(e,1,{width:t,onUpdate:function(){google.maps.event.trigger(p,"resize"),p.setCenter(u.getCenter())}}),!1},function(){return TweenMax.to(e,1,{width:h,onUpdate:function(){google.maps.event.trigger(p,"resize"),p.setCenter(u.getCenter())},onComplete:function(){e.parents(".contact_map_parent").css("overflow","hidden")}}),!1}),p=new google.maps.Map(e[0],f),c.each(function(t){!function(t,e){var a=e.data("option"),i=a.latitude,n=a.longitude,o=new google.maps.LatLng(i,n),s=a.marker_image,r=a.marker_size,l=a.retina_marker,c=a.marker_title,d=a.marker_description,h=new Image;u.extend(o),h.src=s,e.data("rendered",!0),b(h).on("load",function(){m.setMarkers(t,p,o,s,r,c,d,l)})}(t,b(this))}),google.maps.event.addListenerOnce(p,"tilesloaded",function(){0<t?(p.setCenter(u.getCenter()),p.setZoom(t)):(p.setCenter(u.getCenter()),p.fitBounds(u))}),x.on("resize.google_map",_.debounce(function(){p.setCenter(u.getCenter())},50)).trigger("resize.google_map")})},setMarkers:function(t,i,n,o,s,e,a,r){var l="<h3>"+e+"</h3><div>"+a+"</div>",c=new google.maps.InfoWindow({content:l});function d(t,e){this.latlng=t,this.setMap(e)}r&&(s[0]=s[0]/2,s[1]=s[1]/2),(d.prototype=new google.maps.OverlayView).draw=function(){var t=this.div_;t||(t=this.div_=b('<div class="thb_pin"><div class="pulse"></div><div class="shadow"></div><div class="pin-wrap"><img src="'+o+'" width="'+s[0]+'" height="'+s[1]+'"/></div></div>'),this.pinShadow=this.div_.find(".shadow"),this.pulse=this.div_.find(".pulse"),this.div_[0].style.position="absolute",this.div_[0].style.cursor="pointer",this.getPanes().overlayImage.appendChild(this.div_[0]),google.maps.event.addDomListener(t[0],"click",function(t){c.setPosition(n),c.open(i)}));var e=this.getProjection().fromLatLngToDivPixel(n);if(e){var a=(s[0]-40)/2;this.div_[0].style.left=e.x-s[0]/2+"px",this.div_[0].style.top=e.y-s[1]/2+"px",this.div_[0].style.width=s[0]+"px",this.div_[0].style.height=s[1]+"px",this.pinShadow[0].style.marginLeft=a+"px",this.pulse[0].style.marginLeft=a+"px"}},d.prototype.remove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},d.prototype.getPosition=function(){return this.latlng};new d(n,i)}},ajaxAddToCart:{selector:".ajax_add_to_cart",init:function(){b(this.selector);w.on("added_to_cart",function(t,e,a,i){i.find(".thb_button_icon").html(themeajax.l10n.added_svg),i.find("span").text(themeajax.l10n.added)}),w.on("wc_fragments_refreshed added_to_cart",function(){lazySizes&&lazySizes.autoSizer.checkElems()})}},loginForm:{selector:".thb-overflow-container",init:function(){var e=b(this.selector),t=b("ul",e),a=b("a",t);a.on("click",function(){var t=b(this);return t.hasClass("active")||(a.removeClass("active"),t.addClass("active"),b(".thb-form-container",e).toggleClass("register-active")),!1})}},productAjaxAddtoCart:{selector:".thb-single-product-ajax-on.single-product .product-type-variable form.cart, .thb-single-product-ajax-on.single-product .product-type-simple form.cart",init:function(){var t=b(this.selector),n=b(".single_add_to_cart_button",t);l.on("submit","body.single-product form.cart",function(t){t.preventDefault();var e=b(this),i=n.text();if(!n.is(".disabled")&&!n.is(".wc-variation-selection-needed")){var a={product_id:e.find("[name*='add-to-cart']").val(),product_variation_data:e.serialize()};b.ajax({method:"POST",data:a.product_variation_data,dataType:"html",url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","add-to-cart="+a.product_id+"&thb-ajax-add-to-cart=1"),cache:!1,headers:{"cache-control":"no-cache"},beforeSend:function(){w.trigger("adding_to_cart"),n.addClass("disabled").text(themeajax.l10n.adding_to_cart)},success:function(t){var e=b.parseHTML(t),a={".float_count":b(e).find(".float_count").html(),".thb_prod_ajax_to_cart_notices":b(e).find(".thb_prod_ajax_to_cart_notices").html(),".widget_shopping_cart_content":b(e).find(".widget_shopping_cart_content").html()};b.each(a,function(t,e){b(t).html(e)}),w.trigger("wc_fragments_refreshed"),n.removeClass("disabled").text(i)},error:function(t){w.trigger("wc_fragments_ajax_error"),n.removeClass("disabled").text(i)}})}})}},variations:{selector:"form.variations_form",init:function(){var t=b(this.selector),a=b("#product-images"),e=b("#product-thumbnails"),i=b(".first",a),n=b("img",i),o=b("a",i),s=o.attr("href"),r=n.attr("src"),l=b(".first img",e),c=l.attr("src"),d=b("p.price",".product-information").eq(0),h=d.html();t.on("show_variation",function(t,e){d.html(e.price_html),e.hasOwnProperty("image")&&e.image.src&&(n.attr("src",e.image.src).attr("srcset",""),l.attr("src",e.image.thumb_src).attr("srcset",""),o.attr("href",e.image.full_src),a.hasClass("slick-initialized")&&a.slick("slickGoTo",0),"undefined"!=typeof wc_single_product_params&&"1"===wc_single_product_params.zoom_enabled&&n.attr("data-src",e.image.full_src))}).on("reset_image",function(){d.html(h),n.attr("src",r).attr("srcset",""),l.attr("src",c).attr("srcset",""),o.attr("href",s),"undefined"!=typeof wc_single_product_params&&"1"===wc_single_product_params.zoom_enabled&&n.attr("data-src",r)})}},quantity:{selector:".quantity:not(.hidden)",init:function(){var t=this;b(t.selector);t.initialize(),w.on("updated_cart_totals",function(){t.initialize(),lazySizes&&lazySizes.autoSizer.checkElems()})},initialize:function(){b("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" class="plus" />').prepend('<input type="button" value="-" class="minus" />').end().find('input[type="number"]').attr("type","text"),b(".plus, .minus").on("click",function(){var t=b(this).closest(".quantity").find(".qty"),e=parseFloat(t.val()),a=parseFloat(t.attr("max")),i=parseFloat(t.attr("min")),n=t.attr("step");return e&&""!==e&&"NaN"!==e||(e=0),""!==a&&"NaN"!==a||(a=""),""!==i&&"NaN"!==i||(i=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),b(this).is(".plus")?a&&(a===e||a<e)?t.val(a):t.val(e+parseFloat(n)):i&&(i===e||e<i)?t.val(i):0<e&&t.val(e-parseFloat(n)),t.trigger("change"),!1})}},archiveLoading:{selector:".archive-pagination-container",thb_loading:!1,scrollInfinite:!1,href:!1,init:function(){var t=b(this.selector),e=t.data("pagination-style")||"style1";b(".pagination").length&&w.hasClass("archive")&&("style2"===e?this.loadButton(t):"style3"===e&&this.loadInfinite(t))},loadButton:function(a){var i=this;b(".pagination").before('<div class="text-center masonry_loader"><a class="thb_load_more btn pill-radius large black">'+themeajax.l10n.loadmore+"</a></div>"),0===b(".pagination a.next").length&&b(".masonry_loader").addClass("is-hidden"),b(".pagination").hide(),w.on("click",".thb_load_more:not(.no-ajax)",function(t){var e=b(this);return i.href=b(".pagination a.next").attr("href"),!1===i.thb_loading&&(e.html(themeajax.l10n.loading).addClass("loading"),i.loadPosts(e,a)),!1})},loadInfinite:function(t){var e=this;0===b(".pagination a.next").length&&b(".masonry_loader").addClass("is-hidden"),b(".pagination").hide(),e.scrollInfinite=_.debounce(function(){!1===e.thb_loading&&x.scrollTop()+x.height()+150>=t.offset().top+t.outerHeight()&&(e.href=b(".pagination a.next").attr("href"),e.loadPosts(!1,t,!0))},30),x.on("scroll",e.scrollInfinite)},loadPosts:function(i,n,o){var s=this;b.ajax(s.href,{method:"GET",beforeSend:function(){s.thb_loading=!0,o&&(TweenMax.to(b(".pagination").next(".thb-preloader"),.5,{autoAlpha:1}),x.off("scroll",s.scrollInfinite))},success:function(t){var e=b(t),a=b(e.find(".archive-pagination-container").html());b(".pagination").html(e.find(".pagination").html()),i?e.find(".pagination .next").length?i.html(themeajax.l10n.loadmore).removeClass("loading"):i.html(themeajax.l10n.nomore).removeClass("loading").addClass("no-ajax"):o&&(TweenMax.to(b(".pagination").next(".thb-preloader"),.5,{autoAlpha:0}),e.find(".pagination .next").length&&x.on("scroll",s.scrollInfinite)),a.appendTo(n),n.data("isotope")&&(a.hide(),n.isotope("appended",a),n.imagesLoaded(function(){n.isotope("layout")})),s.thb_loading=!1}})}},shopLoading:{selector:".post-type-archive-product ul.products.thb-main-products",thb_loading:!1,scrollInfinite:!1,href:!1,init:function(){var t=b(this.selector),e=themeajax.settings.shop_product_listing_pagination;b(".woocommerce-pagination").length&&w.hasClass("post-type-archive-product")&&("style2"===e?this.loadButton(t):"style3"===e&&this.loadInfinite(t))},loadButton:function(a){var i=this;b(".woocommerce-pagination").before('<div class="thb_load_more_container pagination-space text-center"><a class="thb_load_more btn pill-radius large black">'+themeajax.l10n.loadmore+"</a></div>"),0===b(".woocommerce-pagination a.next").length&&b(".thb_load_more_container").addClass("is-hidden"),b(".woocommerce-pagination").hide(),w.on("click",".thb_load_more:not(.no-ajax)",function(t){var e=b(this);return i.href=b(".woocommerce-pagination a.next").attr("href"),!1===i.thb_loading&&(e.html(themeajax.l10n.loading).addClass("loading"),i.loadProducts(e,a)),!1})},loadInfinite:function(t){var e=this;0===b(".woocommerce-pagination a.next").length&&b(".thb_load_more_container").addClass("is-hidden"),b(".woocommerce-pagination").hide(),e.scrollInfinite=_.debounce(function(){!1===e.thb_loading&&x.scrollTop()+x.height()+150>=t.offset().top+t.outerHeight()&&(e.href=b(".woocommerce-pagination a.next").attr("href"),e.loadProducts(!1,t,!0))},30),x.on("scroll",e.scrollInfinite)},loadProducts:function(i,n,o){var s=this;b.ajax(s.href,{method:"GET",beforeSend:function(){s.thb_loading=!0,o&&x.off("scroll",s.scrollInfinite)},success:function(t){var e=b(t),a=e.find("ul.products.thb-main-products li");b(".woocommerce-pagination").html(e.find(".woocommerce-pagination").html()),i?e.find(".woocommerce-pagination .next").length?i.html(themeajax.l10n.loadmore).removeClass("loading"):i.html(themeajax.l10n.nomore_products).removeClass("loading").addClass("no-ajax"):o&&e.find(".woocommerce-pagination .next").length&&x.on("scroll",s.scrollInfinite),a.length&&(a.addClass("will-animate").appendTo(n),TweenMax.set(a,{opacity:0,y:30}),TweenMax.staggerTo(a,.3,{y:0,opacity:1},.15)),s.thb_loading=!1}})}},newsletter:{selector:".newsletter-form:not(.thb-active)",init:function(){b(this.selector).each(function(){var a=b(this),t={action:"thb_subscribe_emails",privacy:!1};a.addClass("thb-active"),a.on("submit",function(){return a.next(".thb-custom-checkbox").length&&(t.privacy=!0,t.checked=a.next(".thb-custom-checkbox").find(".thb-newsletter-privacy").is(":checked")),t.email=a.find(".widget_subscribe").val(),b.ajax(themeajax.url,{method:"POST",data:t,beforeSend:function(){a.addClass("thb-loading")},success:function(t){var e=b.parseHTML(b.trim(t));a.removeClass("thb-loading"),b(e).appendTo(w),_.delay(function(){b(e).remove()},8e3)}}),!1})})}},widget_nav_menu:{selector:".widget_nav_menu, .widget_pages",init:function(){b(this.selector).find(".menu-item-has-children, .page_item_has_children").each(function(){var t=b(this),e=b(">a",t);e.append('<div class="thb-arrow"><i class="thb-icon-down-open-mini"></i></div>'),b(".thb-arrow",t).on("click",function(t){var e=b(this).parents("a"),a=e.next(".sub-menu, .children");e.hasClass("active")?(e.removeClass("active"),a.slideUp("200")):(e.addClass("active"),a.slideDown("200")),t.stopPropagation(),t.preventDefault()}),"#"===e.attr("href")&&e.on("click",function(t){var e=b(this),a=e.next(".sub-menu");e.hasClass("active")?(e.removeClass("active"),a.slideUp("200")):(e.addClass("active"),a.slideDown("200")),t.preventDefault()})})}},pricingStyle2:{selector:".thb-pricing-table.style2",init:function(t){b(this.selector).each(function(){var t=b(this),e=b(".pricing-container",t),a=b(".pricing-style2-highlight",t),i=a.parents(".pricing-container");function n(t){var e=t;TweenMax.set(a,{left:e.position().left,width:e.outerWidth(),height:e.parents(".thb-pricing-column").outerHeight(),top:e.position().top})}e.on("mouseenter",function(){n(b(this))}).on("mouseleave",function(){n(i)}),x.on("resize.move_highlight",function(){n(i)}).trigger("resize.move_highlight"),t.addClass("active")})}},right_click:{selector:".right-click-on",init:function(){var t=b("#right_click_content"),e=new TimelineMax({paused:!0,onStart:function(){t.css("display","flex")},onReverseComplete:function(){t.css("display","none")}}),a=t.find(".columns>*");e.to(t,.25,{opacity:1},"start").staggerFrom(a,.5,{y:20,opacity:0},.1),x.on("contextmenu",function(t){if(3===t.which)return e.play(),!1}),l.keyup(function(t){27===t.keyCode&&e.reverse()}),t.on("click",function(){e.reverse()})}}},l.ready(function(){b("#vc_inline-anchor").length?x.on("vc_reload",function(){v.init()}):v.init()})}(jQuery,this);